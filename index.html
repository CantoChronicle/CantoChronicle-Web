<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canto Chronicle</title>
    <script src="index.js"></script>
    <link rel="stylesheet" type="text/css" href="css/common.css">
    <link rel="stylesheet" type="text/css" href="index.css">
</head>
<body>
<div id="headerbar"></div>

    <div id="main_content">
        <div class="main_left">
            <h2>最近更新</h2>
            <ul class="two-columns">
                <li>2025-09-26: 网站上线!</li>
                <li>2025-09-26: 小说 《龙与花》 更新第1章</li>
            </ul>
            
        </div>
        <div class="main_right">
            <h2>今日推荐</h2>
            <ul class="two-columns">
                <li>小说: 《龙与花》</li>
            </ul>
        </div>
</div>

<div id="navbar"></div>
<script>
    if (window.injectHeaderNav) {
        window.injectHeaderNav();
    } else {
        fetch("nav.html").then(res => res.text()).then(html => { document.getElementById("navbar").innerHTML = html; });
        fetch("header.html").then(res => res.text()).then(html => { document.getElementById("headerbar").innerHTML = html; });
    }
    // 修复：如果 nav 中使用 <a><button> 结构，某些浏览器/样式或 JS 可能阻止默认跳转，使用事件代理做保底
    document.addEventListener('click', function (e) {
        const btn = e.target.closest && e.target.closest('button');
        if (!btn) return;
        const anchor = btn.closest && btn.closest('a');
        if (anchor && anchor.href) {
            // 直接导航到链接（保底）
            window.location.href = anchor.href;
        }
    });
</script>
</body>
</html>